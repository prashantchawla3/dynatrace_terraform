

## `dynatrace_calculated_mobile_metric`

### Required API Token Scopes
- `ReadConfig`
- `WriteConfig`

### How to Determine tfvars Values
- **`name`**: Display name for the metric.
- **`enabled`**: Set to `true` or `false`.
- **`app_identifier`**: Use the Dynatrace entity ID of the mobile application.
- **`metric_key`**: Unique key for the metric (e.g., `calc:apps.mobile.metric1`).
- **`metric_type`**: Choose from `REPORTED_ERROR_COUNT`, `USER_ACTION_DURATION`, `WEB_REQUEST_COUNT`, `WEB_REQUEST_ERROR_COUNT`.
- **`dimensions`**: Define dimensions like `APP_VERSION` with `top_x` values.
- **`user_action_filter`**: Optionally filter by attributes like duration, app version, location, etc.

### Schema

#### Required
- `app_identifier` (String)
- `enabled` (Boolean)
- `metric_key` (String)
- `metric_type` (String)
- `name` (String)

#### Optional
- `description` (String)
- `dimensions` (Block List)
- `user_action_filter` (Block List, Max: 1)

#### Read-Only
- `id` (String)

#### Nested: `dimensions.dimension`
- `dimension` (String)
- `top_x` (Number)

#### Nested: `user_action_filter`
- Multiple optional filters including:
  - `action_duration_from_milliseconds`, `action_duration_to_milliseconds`
  - `apdex`, `app_version`, `carrier`, `city`, `country`, `device`, `isp`, `manufacturer`, `network_technology`, `orientation`, `os_family`, `os_version`, `region`, `resolution`, `user_action_name`
  - `has_http_error`, `has_reported_error`

---

## `dynatrace_custom_app_enablement`

### Required API Token Scopes
- `settings.read`
- `settings.write`

### How to Determine tfvars Values
- **`scope`**: Use `"environment"` or a specific custom application scope.
- **`rum.enabled`**: Enable or disable RUM.
- **`rum.cost_and_traffic_control`**: Set the percentage of sessions to capture.

### Schema

#### Required
- `rum` (Block List, Min: 1, Max: 1)

#### Optional
- `scope` (String)

#### Read-Only
- `id` (String)

#### Nested: `rum`
- `enabled` (Boolean)
- `cost_and_traffic_control` (Number)

---

## `dynatrace_mobile_app_enablement`

### Required API Token Scopes
- `settings.read`
- `settings.write`

### How to Determine tfvars Values
- **`rum`**: Enable RUM and set session capture percentage.
- **`session_replay.on_crash`**: Enable session replay on crash.
- **`application_id`**: Optional scope for a specific mobile app.

### Schema

#### Required
- `rum` (Block List, Min: 1, Max: 1)
- `session_replay` (Block List, Min: 1, Max: 1)

#### Optional
- `application_id` (String)

#### Read-Only
- `id` (String)

#### Nested: `rum`
- `enabled` (Boolean)
- `cost_and_traffic_control` (Number)
- `enabled_on_grail` (Optional Boolean)

#### Nested: `session_replay`
- `on_crash` (Boolean)

---

## `dynatrace_mobile_app_key_performance`

### Required API Token Scopes
- `settings.read`
- `settings.write`

### How to Determine tfvars Values
- **`scope`**: Use a valid scope like `DEVICE_APPLICATION_METHOD`.
- **`frustrating_if_reported_or_web_request_error`**: Set to `true` or `false`.
- **`thresholds`**: Define Apdex thresholds in seconds.

### Schema

#### Required
- `frustrating_if_reported_or_web_request_error` (Boolean)
- `scope` (String)
- `thresholds` (Block List, Min: 1, Max: 1)

#### Read-Only
- `id` (String)

#### Nested: `thresholds`
- `frustrating_threshold_seconds` (Number)
- `tolerable_threshold_seconds` (Number)

---

## `dynatrace_mobile_app_request_errors`

> ⚠️ **Warning**: This resource may not have full coverage of the required fields. Consider using `dynatrace_application_error_rules` instead.

### Required API Token Scopes
- `settings.read`
- `settings.write`

### How to Determine tfvars Values
- **`scope`**: Use the mobile or custom application ID.
- **`error_rules`**: List of error codes to exclude.

### Schema

#### Required
- `scope` (String)

#### Optional
- `error_rules` (Block List, Max: 1)

#### Read-Only
- `id` (String)

#### Nested: `error_rules.error_rule`
- `error_codes` (String)

---

## `dynatrace_mobile_application`

> ⚠️ **Note**: If `application_id` is not specified, it will be generated by Dynatrace and must be updated in your `.tf` file.

### Required API Token Scopes
- `ReadConfig`
- `WriteConfig`

### How to Determine tfvars Values
- **`name`**: Name of the mobile application.
- **`beacon_endpoint_type`**: Choose from `CLUSTER_ACTIVE_GATE`, `ENVIRONMENT_ACTIVE_GATE`, `INSTRUMENTED_WEB_SERVER`.
- **`beacon_endpoint_url`**: Required for some endpoint types.
- **`user_session_percentage`**: Set the percentage of sessions to analyze.
- **`apdex`**: Define thresholds for user satisfaction.
- **`properties`**: Define session and user action properties.

### Schema

#### Required
- `name` (String)
- `beacon_endpoint_type` (String)
- `apdex` (Block List, Min: 1, Max: 1)

#### Optional
- `application_id` (String)
- `application_type` (String)
- `beacon_endpoint_url` (String)
- `icon_type` (String)
- `key_user_actions` (Set of String)
- `opt_in_mode` (Boolean)
- `properties` (Block List, Max: 1)
- `session_replay` (Boolean)
- `session_replay_on_crash` (Boolean)
- `user_session_percentage` (Number)

#### Read-Only
- `id` (String)

#### Nested: `apdex`
- `frustrated` (Number)
- `tolerable` (Number)
- `frustrated_on_error` (Optional Boolean)

#### Nested: `properties.api_value`
- `key`, `type` (Required)
- `aggregation`, `cleanup_rule`, `display_name`, `name`, `store_as_session_property`, `store_as_user_action_property` (Optional)

#### Nested: `properties.request_attribute`
- `id`, `key`, `type` (Required)
- `aggregation`, `cleanup_rule`, `display_name`, `store_as_session_property`, `store_as_user_action_property` (Optional)

---

## Data Source: `dynatrace_mobile_application`

### How to Use
Use this data source to retrieve a mobile application ID by its name.

### Schema

#### Required
- `name` (String)

#### Read-Only
- `id` (String)

---
